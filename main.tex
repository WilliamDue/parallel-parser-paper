% !TeX program = XeLaTeX
% !TeX encoding = UTF-8 Unicode
\documentclass[a4paper,12pt]{article}
\usepackage[english]{babel}
\usepackage[english]{isodate}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{centernot}
\usepackage{xfrac}
\usepackage{mathtools}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{xcolor}
\usepackage{changepage}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{soul}
\usepackage{float}
\usepackage{centernot}
\usepackage{tcolorbox}
\usepackage{titling}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{etoolbox}
\usepackage{fontspec}
\usepackage{listings}
\usepackage{lstfiracode} % https://ctan.org/pkg/lstfiracode
\usepackage{biblatex}
\usepackage{csquotes}
\usepackage{titlesec}

\addbibresource{bibliography.bib}

\setmonofont{Fira Code}[
  Contextuals=Alternate  % Activate the calt feature
]

% This was taken from https://github.com/diku-dk/futhark/blob/master/tools/futhark-listings.tex.
\lstdefinelanguage{futhark}
{
  % list of keywords
  morekeywords={
    do,
    else,
    for,
    if,
    in,
    include,
    let,
    loop,
    then,
    type,
    val,
    while,
    with,
    module,
    def,
    entry,
    local,
    open,
    import,
    assert,
    match,
    case,
  },
  sensitive=true, % Keywords are case sensitive.
  morecomment=[l]{--}, % l is for line comment.
  morestring=[b]" % Strings are enclosed in double quotes.
}

\lstset{
  language=futhark,
  style=FiraCodeStyle,   % Use predefined FiraCodeStyle
  numbers=left,                 
  numbersep=5pt,
  basicstyle=\ttfamily\footnotesize,
  breaklines=true,
}
\patchcmd{\section}{\bfseries}{\bfseries\boldmath }{}{}
\patchcmd{\subsection}{\bfseries}{\bfseries\boldmath }{}{}
\patchcmd{\subsubsection}{\bfseries}{\bfseries\boldmath }{}{}

\hypersetup{
  colorlinks=True,
  urlcolor=blue,
  citecolor=red,
  menucolor=black,
}

\renewcommand{\UrlFont}{\ttfamily\footnotesize}

\newcommand{\truncprod}[1]{\stackrel{\mathclap{#1}}{\bullet}}
\newcommand\bigdot{\textbf{{\LARGE{.}}}}
\newcommand\LL{\text{LL}}
\newcommand\LLP{\text{LLP}}
\newcommand\PSLS{\text{PSLS}}
\newcommand\FIRST{\text{FIRST}}
\newcommand\FOLLOW{\text{FOLLOW}}
\newcommand\BEFORE{\text{BEFORE}}
\newcommand\LAST{\text{LAST}}
\newcommand\defiff{\mathrel{\stackrel{\makebox[0pt]{\mbox{\normalfont\tiny def}}}{\iff}}}
\newcommand\defeq{\mathrel{\stackrel{\makebox[0pt]{\mbox{\normalfont\tiny def}}}{=}}}
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem*{remark}{Remark}
\newtheorem{lemma}{Lemma}
\newtheorem{theorem}{Theorem}
\newtheorem{algorithm}{Algorithm}[section]
\newtheorem{example}{Example}[section]
\DeclareMathOperator{\sign}{sign}

\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\fancyhf{}
\setlength{\headheight}{14.49998pt}
\pretitle{\vspace{-120pt}\begin{center}}
\posttitle{\par\end{center}\vspace{-80pt}}
\fancyhead[C]{}
\fancyfoot[R]{Page \thepage \hspace{1pt} of \pageref{LastPage}}
\pagestyle{fancy}
\fancypagestyle{firstpage}{%
    \fancyhf{}
    \renewcommand{\headrulewidth}{0pt}
    \fancyfoot[R]{Page \thepage \hspace{1pt} of \pageref{LastPage}}
}
\title{
    {\Large \textsc{University of Copenhagen}} \\[0pt]
    {\large Computer Science Department} \\[10pt]
    {\Large Parallel Parsing using Futhark} \\[0pt]
    {\large *Subtitle*} \\[10pt]
    Author: William Henrich Due \\[0pt]
    Advisor: Troels Henriksen \\[0pt]
    Submitted: June 12, 2023
}
\author{}
\date{}

\begin{document}
\maketitle
\thispagestyle{firstpage}
\begin{abstract}
  ts
\end{abstract}

\tableofcontents


\section{Introduction}


\section{Theory}

\subsection{\texorpdfstring{$\LL(k)$}{TEXT} Parser Generator}
\input{sections/theory/ll.tex}

\subsection{\texorpdfstring{$\LLP(q,k)$}{TEXT} Parser Generator}
\input{sections/theory/llp.tex}


\section{Implementation}

\subsection{Structure}
\input{sections/implementation/structure.tex}

\subsection{Assumptions}\label{sec:assumptions}
\input{sections/implementation/assumptions.tex}

\subsection{Memoization of FIRST and LAST}
\input{sections/implementation/first_last.tex}

\subsection{LLP collection of item sets}
\input{sections/implementation/llp_collection.tex}

\subsection{Parser}
\input{sections/implementation/parser.tex}

\section{Testing}
\subsection{FIRST and FOLLOW}
\input{sections/testing/first_follow.tex}

\subsection{\texorpdfstring{$\LL(k)$}{TEXT}}
\input{sections/testing/ll.tex}

\subsection{\texorpdfstring{$\LLP(q,k)$}{TEXT}}
\input{sections/testing/llp.tex}


\section{Conclusion}


\printbibliography
\end{document}